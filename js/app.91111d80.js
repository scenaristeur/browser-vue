(function(){var t={7913:function(t,e,n){"use strict";var o=n(9963),r=n(6252);const i=(0,r._)("header",{class:"header"}," Ipfs Browser ",-1);function s(t,e,n,o,s,l){const a=(0,r.up)("FileBrowser"),u=(0,r.up)("CurrentCid"),c=(0,r.up)("OperationResult"),p=(0,r.up)("IpfsInfo");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,(0,r.Wm)(a),(0,r.Wm)(u),(0,r.Wm)(c),(0,r._)("footer",null,[(0,r.Wm)(p)])],64)}var l=n(3577);const a={key:0,class:"ipfs-info"},u={id:"ipfs-info-id"},c={id:"ipfs-info-agent"};function p(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("h3",null,(0,l.zw)(s.status),1),s.online?((0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("h3",null,[(0,r.Uk)(" ID: "),(0,r._)("span",u,(0,l.zw)(s.node.id),1)]),(0,r._)("h3",null,[(0,r.Uk)(" Agent version: "),(0,r._)("span",c,(0,l.zw)(s.node.agentVersion),1)])])):(0,r.kq)("",!0)],64)}var d={name:"IpfsInfo",computed:{online(){return this.$store.state.ipfs.online},node(){return this.$store.state.ipfs.node},status(){return this.$store.state.ipfs.status}}},f=n(3744);const m=(0,f.Z)(d,[["render",p]]);var g=m;const h=t=>((0,r.dD)("data-v-34b99ebe"),t=t(),(0,r.Cn)(),t),w={key:0,class:"browser"},v=h((()=>(0,r._)("h3",null,"Browser",-1))),y=h((()=>(0,r._)("hr",null,null,-1)));function _(t,e,n,o,i,s){const l=(0,r.up)("UploadFiles"),a=(0,r.up)("CurrentContent");return 1==s.online?((0,r.wg)(),(0,r.iD)("div",w,[v,(0,r._)("div",null,[(0,r._)("button",{onClick:e[0]||(e[0]=t=>s.getFolder())},"GetRoot Folder "),(0,r._)("button",{onClick:e[1]||(e[1]=t=>s.addFolder())},"add (sub)folder "),(0,r.Wm)(l)]),y,(0,r.Wm)(a)])):(0,r.kq)("",!0)}const k=t=>((0,r.dD)("data-v-4354bd80"),t=t(),(0,r.Cn)(),t),b={key:0,class:"current-content"},C=k((()=>(0,r._)("div",{class:"container py-2"},[(0,r._)("div",{class:"row justify-content-center"},[(0,r._)("div",{class:"col-lg-10"},[(0,r._)("hr")])])],-1))),D={class:"container pt-2 pb-4"},O={class:"row"},P={class:"col-lg-6 mb-4 mb-lg-0"},$=k((()=>(0,r._)("p",null,"Right click on an item below.",-1))),j={class:"list-group"},S=["onContextmenu"],I={class:"col-lg-6"},W=k((()=>(0,r._)("p",null,"Left click on an item below.",-1))),F={class:"list-group"},x=["onClick"],A={key:0},M={class:"scroll"},z={key:0},R=["onClick"],G={key:0},Z={key:1};function U(t,e,n,i,s,a){const u=(0,r.up)("vue-simple-context-menu"),c=(0,r.up)("GatewayLink"),p=(0,r.up)("GatewayPreview");return null!=a.current?((0,r.wg)(),(0,r.iD)("div",b,[C,(0,r._)("div",D,[(0,r._)("div",O,[(0,r._)("div",P,[$,(0,r._)("div",j,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.itemArray1,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e,onContextmenu:(0,o.iM)((e=>a.handleClick1(e,t)),["prevent","stop"]),class:"list-group-item list-group-item-action"},(0,l.zw)(t.name),41,S)))),128))])]),(0,r._)("div",I,[W,(0,r._)("div",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.itemArray2,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e,onClick:(0,o.iM)((e=>a.handleClick2(e,t)),["prevent","stop"]),class:"list-group-item list-group-item-action"},(0,l.zw)(t.name),9,x)))),128))])])])]),(0,r.Wm)(u,{"element-id":"myFirstMenu",options:s.optionsArray1,ref:"vueSimpleContextMenu1",onOptionClicked:a.optionClicked1},null,8,["options","onOptionClicked"]),(0,r.Wm)(u,{"element-id":"mySecondMenu",options:s.optionsArray2,ref:"vueSimpleContextMenu2",onOptionClicked:a.optionClicked2},null,8,["options","onOptionClicked"]),(0,r.wy)((0,r._)("input",{ref:"current","onUpdate:modelValue":e[0]||(e[0]=t=>a.current._path=t)},null,512),[[o.nr,a.current._path]]),void 0!=s.content.folders?((0,r.wg)(),(0,r.iD)("span",A,(0,l.zw)(s.content.folders.length)+" folders | "+(0,l.zw)(s.content.files.length)+" files",1)):(0,r.kq)("",!0),(0,r._)("div",M,[(0,r._)("ul",null,["/"!=a.current._path?((0,r.wg)(),(0,r.iD)("li",z,[(0,r._)("button",{onClick:e[1]||(e[1]=(...t)=>a.getParent&&a.getParent(...t))}," 📁 ..")])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.content.folders,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t.cid},[(0,r._)("button",{onClick:e=>a.getFolder(t.name)}," 📁 "+(0,l.zw)(t.name),9,R),(0,r.Wm)(c,{item:t},null,8,["item"])])))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.content.files,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.cid,style:{"v-align":"center"}},[t.name.endsWith("png")||t.name.endsWith(".jps")?((0,r.wg)(),(0,r.iD)("span",G,[(0,r.Uk)("🖼 "),(0,r.Wm)(p,{item:t},null,8,["item"])])):((0,r.wg)(),(0,r.iD)("span",Z," 📄")),(0,r.Uk)((0,l.zw)(t.name)+" ",1),(0,r.Wm)(c,{item:t},null,8,["item"])])))),128))])])])):(0,r.kq)("",!0)}const q=["href"];function H(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("a",{href:"https://ipfs.io/ipfs/"+n.item.cid,target:"_blank"}," 🔗 ",8,q)}var L={name:"GatewayLink",props:["item"]};const Y=(0,f.Z)(L,[["render",H],["__scopeId","data-v-debe30ae"]]);var B=Y;const K=["href"],N=["src"];function T(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("a",{class:"gateway-preview",href:"https://ipfs.io/ipfs/"+n.item.cid,target:"_blank"},[(0,r._)("img",{src:"https://ipfs.io/ipfs/"+n.item.cid,width:"40"},null,8,N)],8,K)}var E={name:"GatewayPreview",props:["item"]};const J=(0,f.Z)(E,[["render",T],["__scopeId","data-v-0e062696"]]);var V=J,Q={name:"CurrentContent",components:{GatewayLink:B,GatewayPreview:V},data(){return{content:{},itemArray1:[{name:"Jim",job:"Salesman"},{name:"Dwight",job:"Assistant to the Regional Manager"},{name:"Pam",job:"Receptionist"}],itemArray2:[{name:"Leslie",job:"Deputy Director"},{name:"Ron",job:"Parks Director"},{name:"Andy",job:"Shoeshiner"}],optionsArray1:[{name:"Duplicate",slug:"duplicate"},{type:"divider"},{name:"Edit",slug:"edit"},{name:"<em>Delete</em>",slug:"delete"}],optionsArray2:[{name:"Add Star",slug:"add-star",class:"my-custom-class"},{name:"Remove Star",slug:"remove-star"}]}},methods:{getFolder(t){let e=this.current._path.endsWith("/")?this.current._path:this.current._path+"/",n=e+t;console.log(n),this.$get(n)},getParent(){let t=this.current._path.split("/").filter(((t,e,n)=>e!==n.length-(""===t?2:1))).join("/");console.log("parent",t),0==t.length&&(t="/"),this.$get(t)},handleClick1(t,e){this.$refs.vueSimpleContextMenu1.showMenu(t,e)},handleClick2(t,e){this.$refs.vueSimpleContextMenu2.showMenu(t,e)},optionClicked1(t){window.alert(JSON.stringify(t))},optionClicked2(t){window.alert(JSON.stringify(t))}},watch:{currentContent(){this.content.folders=this.currentContent.filter((t=>"directory"==t.type)).sort(((t,e)=>t.name>e.name?1:e.name>t.name?-1:0)),this.content.files=this.currentContent.filter((t=>"file"==t.type)).sort(((t,e)=>t.name>e.name?1:e.name>t.name?-1:0))}},computed:{currentContent(){return this.$store.state.ipfs.currentContent},current(){return this.$store.state.ipfs.current}}};const X=(0,f.Z)(Q,[["render",U],["__scopeId","data-v-4354bd80"]]);var tt=X;function et(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("input",{type:"file",ref:"input",multiple:"",onChange:e[0]||(e[0]=(...t)=>s.upload&&s.upload(...t))},null,544)}var nt={name:"UploadFiles",methods:{upload(){let t=this.$refs.input.files;console.log(t),this.$upload(t)}}};const ot=(0,f.Z)(nt,[["render",et],["__scopeId","data-v-1ffae373"]]);var rt=ot,it={name:"FileBrowser",components:{CurrentContent:tt,UploadFiles:rt},data(){return{path:null}},methods:{getFolder(t="/"){this.$get(t)},async addFolder(){var t=prompt("type the path :",this.path);t=t.endsWith("/")?t.slice(0,-1):t,t=t.startsWith("/")?t:"/"+t,console.log(t),await this.$mkdir(t)}},watch:{online(){1==this.online&&this.getFolder()},current(){this.path=this.current._path}},computed:{online(){return this.$store.state.ipfs.online},current(){return this.$store.state.ipfs.current}}};const st=(0,f.Z)(it,[["render",_],["__scopeId","data-v-34b99ebe"]]);var lt=st;const at={class:"current-cid"},ut={key:0};function ct(t,e,n,o,i,s){return(0,r.wg)(),(0,r.iD)("div",at,[null!=s.current?((0,r.wg)(),(0,r.iD)("div",ut,(0,l.zw)(s.current._path)+" : "+(0,l.zw)(s.current.cid.toString())+" : "+(0,l.zw)(s.current.type),1)):(0,r.kq)("",!0)])}var pt={name:"CurrentCid",computed:{current(){return this.$store.state.ipfs.current}}};const dt=(0,f.Z)(pt,[["render",ct],["__scopeId","data-v-10bffe95"]]);var ft=dt;const mt={key:0,class:"operation-result"};function gt(t,e,n,o,i,s){const a=(0,r.up)("GatewayLink"),u=(0,r.up)("GatewayPreview");return null!=s.result?((0,r.wg)(),(0,r.iD)("div",mt,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.result,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t.cid},[(0,r.Wm)(a,{item:t},null,8,["item"]),(0,r.Wm)(u,{item:t},null,8,["item"])])))),128))]),(0,r.Uk)(" Result : "+(0,l.zw)(s.result),1)])):(0,r.kq)("",!0)}var ht={name:"OperationResult",components:{GatewayLink:B,GatewayPreview:V},computed:{result(){return this.$store.state.ipfs.result}}};const wt=(0,f.Z)(ht,[["render",gt],["__scopeId","data-v-dff3b622"]]);var vt=wt,yt={name:"App",components:{IpfsInfo:g,FileBrowser:lt,CurrentCid:ft,OperationResult:vt},created(){this.$initIpfs()}};const _t=(0,f.Z)(yt,[["render",s]]);var kt=_t,bt=(n(7658),n(1760)),Ct=n(3686);console.log(bt);var Dt={install:(t,e)=>{let n,o=e.store;async function r(t){let e=await(0,Ct.Z)(n.files.ls(t));return console.log(e),o.commit("ipfs/setCurrentContent",e),e}"undefined"!==typeof window&&(window.global=window),t.config.globalProperties.$initIpfs=async function(){try{n=t.config.globalProperties.$ipfs=await bt.create(e);let r=await n.id();console.log(n,r),o.commit("ipfs/setStatus","Connected to IPFS =)"),o.commit("ipfs/setOnline",n.isOnline()),o.commit("ipfs/setIpfsNode",r)}catch(r){o.commit("ipfs/setStatut",`Error: ${r}`)}},t.config.globalProperties.$get=async function(t="/"){let e=await n.files.stat(t);e._path=t,o.commit("ipfs/setCurrent",e),await r(e._path)},t.config.globalProperties.$upload=async function(t){let e=o.state.ipfs.current;console.log(e);let i={create:!0},s=1==e._path.endsWith("/")?e._path:e._path+"/";await Promise.all(Array.from(t).map((t=>n.files.write(s+t.name,t,i)))),await r(e._path)},t.config.globalProperties.$upload1=async function(t){const e=[];let r=Array.from(t).map((t=>({path:t.name,content:t,type:t.type})));console.log(r);for await(const o of n.addAll(r,{wrapWithDirectory:!0}))e.push(o);return console.log(e),o.commit("ipfs/setResult",e),e},t.config.globalProperties.$mkdir=async function(t){await n.files.mkdir(t,{parents:!0}),await this.$get(t)}}},Ot=n(3907);const Pt=()=>({node:null,current:null,status:"Connecting to IPFS...",online:!1,result:null,currentContent:[]}),$t={setCurrent(t,e){console.log(e),console.log(e.cid.toString()),t.current=e},setIpfsNode(t,e){t.node=e},setStatus(t,e){t.status=e},setOnline(t,e){t.online=e},setResult(t,e){t.result=e},setCurrentContent(t,e){t.currentContent=e}},jt={};var St={namespaced:!0,state:Pt,actions:jt,mutations:$t};const It=(0,Ot.MT)({state:{},getters:{},mutations:{},actions:{},modules:{ipfs:St}});var Wt=It,Ft=n(1115);const xt=(0,o.ri)(kt);xt.component("vue-simple-context-menu",Ft.Z),xt.use(Wt),xt.use(Dt,{store:Wt}),xt.mount("#app")},7420:function(){},5856:function(){},5883:function(){},2596:function(){},3897:function(){},5819:function(){},1265:function(){},5539:function(){}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,i){if(!o){var s=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],i=t[c][2];for(var l=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(l=!1,i<s&&(s=i));if(l){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,r,i]}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var l=2&r&&o;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){s[t]=function(){return o[t]}}));return s["default"]=function(){return o},n.d(i,s),i}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,i,s=o[0],l=o[1],a=o[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(a)var c=a(n)}for(e&&e(o);u<s.length;u++)i=s[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(c)},o=self["webpackChunkexample_browser_vue_3"]=self["webpackChunkexample_browser_vue_3"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(7913)}));o=n.O(o)})();
//# sourceMappingURL=app.91111d80.js.map